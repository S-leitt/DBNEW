# 后端功能测试计划

## 1. 测试前准备

### 1.1 编译项目
- 运行 `mvn compile` 检查代码编译情况
- 确保没有编译错误

### 1.2 检查依赖
- 确认所有依赖都已正确配置
- 检查数据库连接配置是否正确

## 2. 核心功能测试

### 2.1 启动应用
- 运行 `mvn spring-boot:run` 启动应用
- 检查应用是否能成功启动
- 观察日志输出，确保没有错误信息

### 2.2 健康检查API测试
- 使用curl或浏览器访问 `http://localhost:8080/sync/api/health`
- 验证返回的JSON格式是否正确
- 检查中文显示是否正常
- 验证系统状态是否为UP

### 2.3 数据管理API测试
- 测试获取数据列表：`GET /sync/api/data/mysql_db/users`
- 测试添加数据：`POST /sync/api/data/mysql_db/users`
- 测试编辑数据：`PUT /sync/api/data/mysql_db/users/user_id`
- 测试删除数据：`DELETE /sync/api/data/mysql_db/users/user_id/value`

### 2.4 同步管理功能测试
- 测试获取同步日志：`GET /sync/api/sync/logs`
- 测试手动同步：`POST /sync/api/sync/manual`
- 测试获取同步状态：`GET /sync/api/sync/status`

### 2.5 冲突处理功能测试
- 测试获取冲突列表：`GET /sync/api/conflict/list`
- 测试解决冲突：`POST /sync/api/conflict/resolve`

### 2.6 用户管理功能测试
- 测试获取用户列表：`GET /sync/api/user/list`
- 测试添加用户：`POST /sync/api/user`
- 测试编辑用户：`PUT /sync/api/user/user_id`
- 测试删除用户：`DELETE /sync/api/user/user_id`

## 3. 中文显示检查

### 3.1 日志中文显示
- 观察应用启动和运行过程中的日志
- 检查中文日志是否正常显示，无乱码

### 3.2 API返回中文显示
- 测试所有返回中文的API
- 检查返回的JSON中的中文是否正常显示
- 验证中文错误信息是否正常显示

### 3.3 数据库中文处理
- 测试添加包含中文的数据
- 测试查询包含中文的数据
- 验证中文数据是否能正确同步到其他数据库

## 4. 性能测试

### 4.1 并发测试
- 使用JMeter或其他工具进行并发测试
- 测试API的并发处理能力
- 检查系统在高并发下的稳定性

### 4.2 同步性能测试
- 测试大量数据同步的性能
- 检查同步过程中的资源占用
- 验证同步日志的准确性

## 5. 测试工具

- **编译工具**：Maven 3.9+
- **HTTP客户端**：curl、Postman或浏览器
- **日志查看**：终端日志或日志文件
- **性能测试**：JMeter或ab（Apache Benchmark）

## 6. 测试结果记录

| 测试项 | 预期结果 | 实际结果 | 状态 | 备注 |
|--------|----------|----------|------|------|
| 编译项目 | 成功编译 | | | |
| 启动应用 | 成功启动 | | | |
| 健康检查API | 返回正常 | | | |
| 数据管理API | 功能正常 | | | |
| 同步管理功能 | 功能正常 | | | |
| 冲突处理功能 | 功能正常 | | | |
| 用户管理功能 | 功能正常 | | | |
| 日志中文显示 | 正常显示 | | | |
| API返回中文 | 正常显示 | | | |
| 数据库中文处理 | 正常处理 | | | |

## 7. 测试结论

- 总结测试结果
- 指出发现的问题
- 提出改进建议
- 确认系统是否可以正常使用

## 8. 后续测试

- 定期运行回归测试
- 添加自动化测试用例
- 实现持续集成测试

这个测试计划将全面验证后端功能的正确性、稳定性和性能，同时检查中文显示是否正常。